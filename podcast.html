<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Bathonea Sohbetleri - Bathonea Psychology</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playpen+Sans+Thai:wght@100..800&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary-color: #4b5f43;
      --accent-color: #948367;
      --text-color: white;
      --bg-color: white;
    }

    body {
      margin:0;
      font-family: 'Playpen Sans Thai', sans-serif;
      background: var(--bg-color);
      color: black;
      opacity: 0;
      transition: opacity 0.4s ease;
    }
    body.loaded { opacity: 1; }

    /* Sidebar */
    .sidebar {
      height: 100%;
      width: 200px;
      position: fixed;
      z-index: 100;
      top: 0;
      left: 0;
      background-color: #000;
      transform: translateX(-100%);
      overflow-x: hidden;
      transition: transform 0.45s cubic-bezier(.4,0,.2,1);
      padding-top: 60px;
      border-top-right-radius: 18px;
      border-bottom-right-radius: 18px;
    }
    .sidebar.open { transform: translateX(0); }

    .sidebar a {
      display: block;
      padding: 10px 20px;
      font-size: 18px;
      color: var(--text-color);
      text-decoration: none;
      transition: 0.2s;
    }
    .sidebar a:hover { background-color: var(--accent-color); color: black; }

    /* Overlay */
    #sidebarOverlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      z-index: 50;
    }

    .openbtn {
      font-size: 20px;
      cursor: pointer;
      background-color: #000;
      color: var(--text-color);
      padding: 10px 15px;
      border: none;
      border-radius:12px;
      position: fixed;
      top:15px;
      left:15px;
      z-index:101;
    }

    #main {
      transition: margin-left 0.45s cubic-bezier(.4,0,.2,1);
      padding: 20px;
      max-width: 900px;
      margin: 0 auto;
      margin-left:0;
    }

    h2 { color: var(--primary-color); margin-top: 30px; }

    .podcast {
      border: 1px solid var(--primary-color);
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 6px;
    }

    .podcast a {
      text-decoration:none;
      color: var(--primary-color);
      font-weight:bold;
      display:block;
      margin-bottom:5px;
    }

    audio { width:100%; margin-top:5px; }

    footer {
      background-color: var(--primary-color);
      color: var(--text-color);
      text-align:center;
      padding:20px;
      margin-top:50px;
      border-radius:10px;
    }

    @media (min-width: 768px) {
      .sidebar { width:300px; padding-top:20px; }
      #main { margin-left:0; } /* Hover ile açılacak, başlangıçta 0 */
    }

    @media (max-width: 767px) {
      #main { margin-left:0; padding:15px; }
    }
  </style>
</head>
<body>

  <button class="openbtn" id="sidebarToggle">☰</button>

  <div id="mySidebar" class="sidebar">
    <a href="index.html">Anasayfa</a>
    <a href="about.html">Hakkımızda</a>
    <a href="duyurular.html">Duyurular</a>
    <a href="essays.html">Deneme Yazıları</a>
    <a href="podcast.html">Bathonea Sohbetleri</a>
  </div>

  <div id="sidebarOverlay"></div>

  <div id="main">
    <h2>Podcastler</h2>
    <div id="podcast-list"></div>
  </div>

  <footer>
    © 2026 Bathonea Psychology
  </footer>

  <script>
    const sidebar = document.getElementById("mySidebar");
    const toggleBtn = document.getElementById("sidebarToggle");
    const main = document.getElementById("main");
    const sidebarOverlay = document.getElementById("sidebarOverlay");

    // Mobil toggle
    toggleBtn.addEventListener("click", (e)=>{
      e.stopPropagation();
      const isOpen = sidebar.classList.toggle("open");

      if(window.innerWidth >= 768){
        main.style.marginLeft = isOpen ? "300px" : "0";
      }

      if(window.innerWidth < 768){
        sidebarOverlay.style.display = isOpen ? "block" : "none";
      }
    });

    // Overlay tıklayınca sidebar kapansın (mobil)
    sidebarOverlay.addEventListener("click", ()=>{
      sidebar.classList.remove("open");
      sidebarOverlay.style.display = "none";
      if(window.innerWidth >= 768) main.style.marginLeft = "0";
    });

    // Desktop hover ile aç/kapa
    if(window.innerWidth >= 768){
      sidebar.addEventListener("mouseenter", ()=>{
        sidebar.classList.add("open");
        main.style.marginLeft = "300px";
      });
      sidebar.addEventListener("mouseleave", ()=>{
        sidebar.classList.remove("open");
        main.style.marginLeft = "0";
      });
    }

    // Body click ile mobilde sidebar kapanması
    document.addEventListener("click", (e)=>{
      if(!sidebar.contains(e.target) && e.target !== toggleBtn){
        sidebar.classList.remove("open");
        sidebarOverlay.style.display = "none";
        if(window.innerWidth >= 768) main.style.marginLeft = "0";
      }
    });

    // Fade in on load
    document.addEventListener("DOMContentLoaded", () => {
      document.body.classList.add("loaded");
    });

    // Smooth fade out on internal link click
    document.querySelectorAll("a").forEach(link => {
      link.addEventListener("click", e => {
        if(link.target !== "_blank" && link.href.indexOf(location.origin) === 0){
          e.preventDefault();
          const href = link.href;
          document.body.classList.remove("loaded");
          setTimeout(()=>{ window.location = href; }, 400);
        }
      });
    });

    // Podcast listesi
    const podcasts = [
      {
        title: "Test Dinletisi",
        link: "https://bathoneapsychology.github.io/podcastseyleri/testdinletisifnf.m4a"
      }
    ];

    const listDiv = document.getElementById("podcast-list");

    podcasts.forEach(p => {
      const container = document.createElement("div");
      container.className = "podcast";

      const link = document.createElement("a");
      link.href = p.link;
      link.textContent = p.title;
      container.appendChild(link);

      const audio = document.createElement("audio");
      audio.controls = true;
      audio.src = p.link;
      container.appendChild(audio);

      listDiv.appendChild(container);
    });
  </script>

</body>
</html>
