<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Bathonea Psychology</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --primary:#0b1c3d;
  --accent:#ffcc00;
}

body{margin:0;font-family:Arial;background:white;color:black;}
#main{padding:20px;transition:.3s;}

.hero{
  text-align:center;
  padding:100px 20px;
  background:var(--primary);
  color:white;
  border-radius:10px;
}

.duyuru-slider{max-width:900px;margin:50px auto;}
.slider-container{position:relative;overflow:hidden;}
.slides-wrapper{display:flex;transition:.4s ease;}
.slide{
  min-width:100%;
  box-sizing:border-box;
  padding:15px;
  border:1px solid var(--primary);
  border-radius:10px;
  text-align:center;
  cursor:pointer;
}
.slide img{
  width:100%;
  max-height:170px;
  object-fit:cover;
  border-radius:8px;
}
.slide h3{color:var(--primary);}

.slider-btn{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  background:var(--primary);
  color:white;
  border:none;
  padding:8px 12px;
  cursor:pointer;
  border-radius:6px;
}
.prev{left:5px;}
.next{right:5px;}

footer{
  background:var(--primary);
  color:white;
  text-align:center;
  padding:20px;
  margin-top:50px;
  border-radius:10px;
}

/* MODAL */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.6);
  backdrop-filter:blur(4px);
  z-index:200;
}

.modal-content{
  background:white;
  margin:5% auto;
  width:90%;
  max-width:700px;
  padding:25px;
  border-radius:14px;
  animation:fade .3s ease;
}

@keyframes fade{
  from{opacity:0;transform:translateY(-20px);}
  to{opacity:1;}
}

.close{
  float:right;
  font-size:26px;
  cursor:pointer;
}

.modal-slider{
  position:relative;
  margin-top:15px;
  overflow:hidden;
}

.modal-slider img{
  width:100%;
  max-height:350px;
  object-fit:cover;
  border-radius:10px;
}

.modal-slider button{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  background:rgba(11,28,61,0.8);
  color:white;
  border:none;
  padding:8px 12px;
  border-radius:6px;
  cursor:pointer;
}
.img-prev{left:10px;}
.img-next{right:10px;}

@media(max-width:768px){
  .hero{padding:70px 20px;}
}
</style>
</head>
<body>

<div id="main">

<section class="hero">
<h2>Bathonea Psychology Kulübü</h2>
<p>Akademik üretim, düşünce ve tartışma alanı.</p>
</section>

<section class="duyuru-slider">
<h2>Güncel Duyurular</h2>

<div class="slider-container">
<button class="slider-btn prev" onclick="moveMain(-1)">❮</button>
<div class="slides-wrapper" id="mainSlider"></div>
<button class="slider-btn next" onclick="moveMain(1)">❯</button>
</div>

</section>
</div>

<footer>© 2026 Bathonea Psychology</footer>

<!-- MODAL -->
<div id="announcementModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <div id="modalBody"></div>
  </div>
</div>

<script>

/* DATA */
const announcements=[
{
 title:"Etkinlik 1",
 date:"25 Şubat 2026",
 short:"Kulübümüzün ilk semineri.",
 long:"Kulübümüzün ilk semineri gerçekleşecektir. Katılım ücretsizdir.",
 images:[
  "duyurularimg/etkinlik1.jpg",
  "duyurularimg/etkinlik1-2.jpg"
 ]
},
{
 title:"Etkinlik 2",
 date:"1 Mart 2026",
 short:"Yeni deneme paylaşımları.",
 long:"Deneme ve essay gönderimleri başlamıştır.",
 images:["duyurularimg/etkinlik2.jpg"]
}
];

/* MAIN SLIDER */
const mainSlider=document.getElementById("mainSlider");
let mainIndex=0;

announcements.forEach((a,i)=>{
 mainSlider.innerHTML+=`
 <div class="slide" onclick="openModal(${i})">
   <img src="${a.images[0]}">
   <h3>${a.title}</h3>
   <p>${a.date} — ${a.short}</p>
 </div>`;
});

function moveMain(step){
 mainIndex+=step;
 if(mainIndex<0) mainIndex=announcements.length-1;
 if(mainIndex>=announcements.length) mainIndex=0;
 mainSlider.style.transform=`translateX(-${mainIndex*100}%)`;
}

setInterval(()=>moveMain(1),7000);

/* MODAL + INNER SLIDER */
let imgIndex=0;
let currentImgs=[];

function openModal(i){
 const modal=document.getElementById("announcementModal");
 const body=document.getElementById("modalBody");
 const data=announcements[i];
 currentImgs=data.images;
 imgIndex=0;

 body.innerHTML=`
  <h2>${data.title}</h2>
  <p><strong>${data.date}</strong></p>
  <p>${data.long}</p>
  <div class="modal-slider">
    <button class="img-prev" onclick="moveImg(-1)">❮</button>
    <img id="modalImg" src="${currentImgs[0]}">
    <button class="img-next" onclick="moveImg(1)">❯</button>
  </div>
 `;

 modal.style.display="block";
}

function moveImg(step){
 imgIndex+=step;
 if(imgIndex<0) imgIndex=currentImgs.length-1;
 if(imgIndex>=currentImgs.length) imgIndex=0;
 document.getElementById("modalImg").src=currentImgs[imgIndex];
}

function closeModal(){
 document.getElementById("announcementModal").style.display="none";
}

window.onclick=function(e){
 if(e.target.classList.contains("modal")) closeModal();
};

/* SWIPE SUPPORT (modal images) */
let startX=0;
document.addEventListener("touchstart",e=>{
 startX=e.changedTouches[0].screenX;
});

document.addEventListener("touchend",e=>{
 let endX=e.changedTouches[0].screenX;
 if(Math.abs(startX-endX)>50){
   if(startX>endX) moveImg(1);
   else moveImg(-1);
 }
});

</script>
</body>
</html>
