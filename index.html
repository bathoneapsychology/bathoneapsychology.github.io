<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Etkinlik Slider</title>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:#f2f2f2;
}

/* ===== ANA SLIDER ===== */
.slider-container{
position:relative;
overflow:hidden;
max-width:900px;
margin:40px auto;
background:white;
border-radius:12px;
box-shadow:0 10px 30px rgba(0,0,0,.1);
}

.slides-wrapper{
display:flex;
transition:transform .6s ease;
}

.slide{
min-width:100%;
padding:20px;
box-sizing:border-box;
text-align:center;
}

.slide img{
width:100%;
height:300px;
object-fit:cover;
border-radius:10px;
}

.slider-btn{
position:absolute;
top:50%;
transform:translateY(-50%);
background:rgba(0,0,0,.6);
color:white;
border:none;
font-size:22px;
padding:10px 14px;
cursor:pointer;
border-radius:50%;
z-index:2;
}

.slider-btn.prev{left:10px;}
.slider-btn.next{right:10px;}

.dots{
text-align:center;
padding:15px;
}

.dot{
height:10px;
width:10px;
background:#ccc;
border-radius:50%;
display:inline-block;
margin:0 5px;
cursor:pointer;
}

.dot.active{
background:#000;
}

.more-btn{
margin-top:15px;
padding:10px 20px;
background:black;
color:white;
border:none;
border-radius:6px;
cursor:pointer;
}

/* ===== MODAL ===== */
.modal{
display:none;
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,.6);
justify-content:center;
align-items:center;
}

.modal-content{
background:white;
width:90%;
max-width:600px;
padding:25px;
border-radius:10px;
position:relative;
}

.modal-close{
position:absolute;
right:15px;
top:10px;
font-size:22px;
cursor:pointer;
}

.modal-slider{
display:flex;
align-items:center;
justify-content:center;
gap:10px;
margin-top:15px;
}

.modal-slider img{
width:80%;
height:250px;
object-fit:cover;
border-radius:8px;
}

.modal-btn{
background:black;
color:white;
border:none;
padding:8px 12px;
cursor:pointer;
border-radius:6px;
}
</style>
</head>
<body>

<div class="slider-container">
<button class="slider-btn prev">❮</button>
<div class="slides-wrapper" id="mainSlider"></div>
<button class="slider-btn next">❯</button>
<div class="dots" id="dots"></div>
</div>

<!-- MODAL -->
<div class="modal" id="modal">
<div class="modal-content">
<span class="modal-close">✕</span>
<div id="modalBody"></div>
</div>
</div>

<script>

/* ===== DATA ===== */
const announcements = [
{
title:"Etkinlik 1",
date:"25 Şubat 2026",
short:"Kulüp semineri.",
long:"Bu etkinliğin uzun açıklaması burada.",
images:[
"https://picsum.photos/800/400?1",
"https://picsum.photos/800/400?2"
]
},
{
title:"Etkinlik 2",
date:"1 Mart 2026",
short:"Yeni etkinlik.",
long:"Etkinlik detay açıklaması burada.",
images:[
"https://picsum.photos/800/400?3",
"https://picsum.photos/800/400?4"
]
}
];

/* ===== ANA SLIDER ===== */
const mainSlider = document.getElementById("mainSlider");
const dotsContainer = document.getElementById("dots");
const prevBtn = document.querySelector(".slider-btn.prev");
const nextBtn = document.querySelector(".slider-btn.next");

let mainIndex = 0;
let mainInterval;

announcements.forEach((a,i)=>{
mainSlider.innerHTML += `
<div class="slide">
<img src="${a.images[0]}">
<h3>${a.title}</h3>
<p>${a.date} — ${a.short}</p>
<button class="more-btn" onclick="openModal(${i})">
Devamını Oku
</button>
</div>`;
dotsContainer.innerHTML += `<span class="dot" data-i="${i}"></span>`;
});

const dots = document.querySelectorAll(".dot");

function updateMain(){
mainSlider.style.transform = `translateX(-${mainIndex * 100}%)`;
dots.forEach(d=>d.classList.remove("active"));
dots[mainIndex].classList.add("active");
}

function moveMain(step){
mainIndex = (mainIndex + step + announcements.length) % announcements.length;
updateMain();
}

prevBtn.onclick = ()=>moveMain(-1);
nextBtn.onclick = ()=>moveMain(1);

dots.forEach(dot=>{
dot.onclick = ()=>{
mainIndex = parseInt(dot.dataset.i);
updateMain();
};
});

function startMainAuto(){
mainInterval = setInterval(()=>moveMain(1), 4000);
}

function stopMainAuto(){
clearInterval(mainInterval);
}

startMainAuto();

document.querySelector(".slider-container")
.addEventListener("mouseenter", stopMainAuto);

document.querySelector(".slider-container")
.addEventListener("mouseleave", startMainAuto);

updateMain();

/* ===== MODAL ===== */
const modal = document.getElementById("modal");
const modalBody = document.getElementById("modalBody");
const closeBtn = document.querySelector(".modal-close");

let modalImages = [];
let modalIndex = 0;
let modalInterval;

function openModal(i){

const data = announcements[i];
modalImages = data.images;
modalIndex = 0;

modalBody.innerHTML = `
<h2>${data.title}</h2>
<p><strong>${data.date}</strong></p>
<p>${data.long}</p>

<div class="modal-slider">
<button class="modal-btn" onclick="moveModal(-1)">❮</button>
<img id="modalImg" src="${modalImages[0]}">
<button class="modal-btn" onclick="moveModal(1)">❯</button>
</div>
`;

modal.style.display = "flex";
startModalAuto();
}

function moveModal(step){
modalIndex = (modalIndex + step + modalImages.length) % modalImages.length;
document.getElementById("modalImg").src = modalImages[modalIndex];
}

function startModalAuto(){
modalInterval = setInterval(()=>moveModal(1), 3500);
}

function stopModalAuto(){
clearInterval(modalInterval);
}

closeBtn.onclick = ()=>{
modal.style.display = "none";
stopModalAuto();
};

modal.onclick = (e)=>{
if(e.target === modal){
modal.style.display = "none";
stopModalAuto();
}
};

</script>

</body>
</html>
